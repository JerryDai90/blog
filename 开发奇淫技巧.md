# 开发奇淫技巧

以下只是提供一种开发过程中遇到的问题处理方法，具体过程可能需要掌握比较多的工具使用才能玩转。

## 1. nginx 篇

### 1.1 部分接口只能在指定的IP或者服务器环境下才能调用
这种情况多少用于此接口有比较高的安全限制才会限制调用者IP，这个时候如果希望客户开放端口可能比较麻烦。不开放的话在上面调试是比较困难的。这个时候可以使用 nginx 的方向代理。把需要调用的接口进行代理，对外

> 如果没有了解接口或者没有把握的话，建议不要直接连接调试。容易发生事故。

### 1.2 VPN 工具或者其他代理工具在 macos 平台下使用不了情况。
由于我的电脑是 macos，有些 V P N 工具在这个平台下是使用不了的。那我开发环境都是在 macos 下的，那就等于断我手脚。
解决办法原理：使用一台机器安装此工具，在利用 nginx 代理相关端口，然后你的 macos 就直接调用此代理服务器。具体步骤如下：

1. 先使用虚拟机（我用的是vbox）安装一个可以使用这个工具的系统（w7/w10）。也可以直接用一台其他的电脑，但是如果没有多网卡的情况下，你连上类是于 V P N 这样的工具时，有可能会阻断了你内网的联通。导致你的 macos 主机和 这台物理机不联通，从而失败，建议还是使用本地安装一个虚拟机。
2. 安装好虚拟机后设置2个网卡，一个走`仅主机`（这个用来内网联通的）, 一个配置你主机的网卡（这个用来上网的），如下图

![w400](http://img.lsof.fun/2020-03-27-15853219156875.jpg)

3. 配置 nignx 的相关反向代理的配置即可。
4. macos 调用的时候使用 `仅主机` 这个网卡的 IP 进行调用即可。



