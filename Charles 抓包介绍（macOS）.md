# Charles 抓包介绍（macOS）

本次记录 `macOS` 下面如何使用 `Charles` 抓包。下面介绍的时候自带的网卡（有线或无线）

## 1. 关掉代理

需要关闭掉一切与网络相关的代理，比如 `SSR`、`SS`，或者你知道的。如果你不知道系统是否有代理，可以去到网络设置中的代理查看，如下图：
![w400](http://img.lsof.fun/2020-03-06-15835059347431.jpg)

无代理情况应该是一个勾都没有的。

> 注意：这个时候建议只开启一个网络连接方式，比如用有线或者用无线（理论上来说开着也没问题，我还没试过同时都连上的）

## 2. 启动 Charles 的代理

启动 `Charles` 后，勾选 proxy -> macOS Proxy 即可，如下图：

![w400](http://img.lsof.fun/2020-03-06-15835062898178.jpg)


此时网络里面已经自动填上了代理信息，如下图：
![w400](http://img.lsof.fun/2020-03-06-15835063482187.jpg)

点击小红点启动即可
![w500](http://img.lsof.fun/2020-03-06-15835066577138.jpg)

原理（猜想）：之所以可以获取到请求信息，无非就是和 nginx 那样，所有的流量都经过这个地方，然后再代理请求目标，然后在返回给到指定的程序（端口）


## 3. 参考文献
https://blog.csdn.net/huangpin815/article/details/101162765


